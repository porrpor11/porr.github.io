!function (f, v) { function a() { $error = f(this).parents("#recaptcha_widget_div").next("#gglcptch_error"), $error.length && $error.remove() } if ((v = v || {}).prepare = function () { f(".gglcptch_v1, .gglcptch_v2, .gglcptch_invisible").each(function () { var t = f(this).find(".gglcptch_recaptcha"); if (t.is(":empty") && (v.vars.visibility || f(this).is(":visible") === f(this).is(":not(:hidden)"))) { var e = t.attr("id"); v.display(e) } }), "v2" != v.options.version && "invisible" != v.options.version || (f(".g-recaptcha").each(function () { if ("" === f(this).html() && "" === f(this).text()) { var t = f(this).attr("id"); void 0 === t && (t = function t() { var e = "gglcptch_recaptcha_" + Math.floor(1e3 * Math.random()); { if (!f("#" + e).length) return e; e = t() } }(), f(this).attr("id", t)); var e = f(this).attr("data-sitekey"), i = f(this).attr("data-theme"), a = f(this).attr("data-lang"), c = f(this).attr("data-size"), n = f(this).attr("data-type"), r = f(this).attr("data-tabindex"), o = f(this).attr("data-callback"), s = f(this).attr("data-expired-callback"), p = f(this).attr("data-stoken"), h = []; h.sitekey = e || v.options.sitekey, i && (h.theme = i), a && (h.lang = a), c && (h.size = c), n && (h.type = n), r && (h.tabindex = r), o && (h.callback = o), s && (h["expired-callback"] = s), p && (h.stoken = p), v.display(t, !1, h) } }), f("form").each(function () { 1 < f(this).contents().find('iframe[title="recaptcha widget"]').length && !f(this).children(".gglcptch_dublicate_error").length && f(this).prepend('<div class="gglcptch_dublicate_error error" style="color: red;">' + v.options.error + "</div><br />\n") })) }, v.display = function (t, e, i) { if (void 0 !== t && "" != t && void 0 !== v.options) { var a = v.options.version; if (e = e || !1, "v1" == a && (null != Recaptcha.widget && 1 != e || Recaptcha.create(v.options.sitekey, t, { theme: v.options.theme })), "v2" == a) { if (f("#" + t).parent().width() <= 300) var c = "compact"; else c = "normal"; var n = i || { sitekey: v.options.sitekey, theme: v.options.theme, size: c }, r = grecaptcha.render(t, n); f("#" + t).data("gglcptch_index", r) } if ("invisible" == a) { var o = f("#" + t), s = o.closest("form"), p = (n = i || { sitekey: v.options.sitekey, size: "invisible", tabindex: 9999 }, !1), h = !1; if (s.length) { d(s), s.find("button, input:submit").each(function () { d(f(this)) }), f("body").hasClass("wp-admin") || (n.callback = function (t) { s.off(), l(s), s.find("button, input:submit").off().each(function () { l(f(this)) }), p && h && p.trigger(h), s.find("button, input:submit").each(function () { d(f(this)) }), d(s), g(s, r), grecaptcha.reset(r) }); r = grecaptcha.render(t, n); o.data({ gglcptch_index: r }), f("body").hasClass("wp-admin") || g(s, r) } } } function d(t) { var e = t, i = f._data(t.get(0), "events"); if (void 0 !== i) { var a = {}; f.extend(!0, a, i), e.off(), e.data("storedEvents", a) } void 0 !== e.attr("onclick") && (e.attr("gglcptch-onclick", e.attr("onclick")), e.removeAttr("onclick")) } function l(t) { var e = t, i = e.data("storedEvents"); if (void 0 !== i) for (var a in i) for (var c = 0; c < i[a].length; c++)e.on(a, i[a][c]); e.removeData("storedEvents"), void 0 !== e.attr("gglcptch-onclick") && (e.attr("onclick", e.attr("gglcptch-onclick")), e.removeAttr("gglcptch-onclick")) } function g(e, i) { e.on("submit", function (t) { "" == e.find(".g-recaptcha-response").val() && (t.preventDefault(), t.stopImmediatePropagation(), p = f(t.target || t.srcElement || t.targetObject), h = t.type, grecaptcha.execute(i)) }).find("input:submit, button").on("click", function (t) { "" == e.find(".g-recaptcha-response").val() && (t.preventDefault(), t.stopImmediatePropagation(), p = f(t.target || t.srcElement || t.targetObject), h = t.type, grecaptcha.execute(i)) }) } }, f(document).ready(function () { var t = 0, e = setInterval(function () { if ("undefined" != typeof Recaptcha || "undefined" != typeof grecaptcha) { try { v.prepare() } catch (t) { console.log("Unexpected error occurred: ", t) } clearInterval(e) } 10 <= ++t && clearInterval(e) }, 1e3); function i() { if ("undefined" != typeof Recaptcha || "undefined" != typeof grecaptcha) try { v.prepare() } catch (t) { console.log(t) } } f(window).on("load", i), f(".woocommerce").on("click", ".woocommerce-tabs", i), f("#recaptcha_widget_div").on("input paste change", "#recaptcha_response_field", a) }), "v2" == v.options.version) { var t = f(window).width(); f(window).on("resize", function () { if (f(window).width() != t && (t = f(window).width(), "undefined" != typeof grecaptcha)) { f(".gglcptch_recaptcha").html(""), f('script[src^="https://www.google.com/recaptcha/api.js"], script[src^="https://www.gstatic.com/recaptcha/api2"]').remove(); f.getScript({ url: "https://www.google.com/recaptcha/api.js", success: function () { setTimeout(function () { try { v.prepare() } catch (t) { console.log(t) } }, 500) } }) } }) } }(jQuery, gglcptch);